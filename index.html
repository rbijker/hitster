<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="HITSTER">
<meta name="theme-color" content="#08080d">
<link rel="manifest" href="manifest.json">
<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=DM+Sans:wght@400;700&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
<title>HITSTER - YouTube Edition</title>
<style>
/* --- STYLING --- */
:root {
  --bg: #08080d;
  --s1: #111118;
  --s2: #1a1a24;
  --acc: #ff3d5a;
  --gold: #ffcc33;
}
body {
  background: var(--bg);
  color: white;
  font-family: 'DM Sans', sans-serif;
  margin: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100vh;
  overflow: hidden;
}
.card {
  background: var(--s2);
  border-radius: 20px;
  padding: 30px;
  text-align: center;
  box-shadow: 0 10px 30px rgba(0,0,0,0.5);
  border: 1px solid #2a2a3a;
  width: 85%;
  max-width: 450px;
}
h1 { font-family: 'Bebas Neue'; font-size: 5rem; color: var(--acc); margin: 0; letter-spacing: 2px; }
h2 { font-size: 1.6rem; margin: 10px 0; color: #fff; }
.year { font-family: 'JetBrains Mono'; color: var(--gold); font-size: 2.5rem; margin-top: 10px; font-weight: bold; }
.btn {
  background: var(--acc);
  color: white;
  border: none;
  padding: 18px 40px;
  border-radius: 50px;
  font-weight: bold;
  font-size: 1.2rem;
  cursor: pointer;
  margin-top: 15px;
  text-transform: uppercase;
  width: 100%;
  transition: transform 0.1s, background 0.2s;
}
.btn:active { transform: scale(0.96); background: #e63650; }
.btn-secondary { background: #333; font-size: 0.9rem; padding: 12px; }
.hidden { display: none; }
#info-section { margin-bottom: 20px; border-bottom: 1px solid #333; padding-bottom: 20px; }
</style>
</head>
<body>

<h1>HITSTER</h1>

<div id="setup-screen" class="card">
    <p style="color: #aaa;">Gebruikt playlist: <b>Hitster NL/INT</b></p>
    <button class="btn" onclick="startNewTurn()">TREK EEN KAART</button>
</div>

<div id="play-screen" class="card hidden">
    <div id="info-section" class="hidden">
        <p style="color: var(--acc); font-weight: bold; margin: 0;">DE KAART WAS:</p>
        <h2 id="display-artist">Artiest</h2>
        <p id="display-title" style="font-style: italic; color: #ccc;">Titel</p>
        <div id="display-year" class="year">1999</div>
    </div>
    
    <button id="yt-btn" class="btn" onclick="openYouTube()">â–¶ SPEEL MUZIEK AF</button>
    <button id="reveal-btn" class="btn btn-secondary" onclick="revealInfo()">ONTHUL ANTWOORD</button>
    <button id="next-btn" class="btn hidden" onclick="startNewTurn()">VOLGEND NUMMER</button>
</div>

<script>
// --- CONFIGURATIE ---
const PLAYLIST_ID = "PLOvFPhGzIPqKLpsG3uMevqofmX6IQe0PC";

// --- DATABASE (Vervang deze lijst met nummers uit je playlist voor de onthul-functie) ---
const SONGS = [
    { a: "2 Unlimited", t: "No Limit", y: 1993 },
    { a: "Golden Earring", t: "Radar Love", y: 1973 },
    { a: "Dua Lipa", t: "Levitating", y: 2020 },
    { a: "Avicii", t: "Wake Me Up", y: 2013 },
    { a: "Queen", t: "Don't Stop Me Now", y: 1978 }
    // Tip: Voeg hier meer nummers toe die in de YouTube playlist staan
];

let currentIndex = -1;

function startNewTurn() {
    // Kies willekeurig nummer uit de lokale lijst
    currentIndex = Math.floor(Math.random() * SONGS.length);
    const song = SONGS[currentIndex];

    // UI Reset
    document.getElementById('setup-screen').classList.add('hidden');
    document.getElementById('play-screen').classList.remove('hidden');
    document.getElementById('info-section').classList.add('hidden');
    document.getElementById('reveal-btn').classList.remove('hidden');
    document.getElementById('next-btn').classList.add('hidden');
    
    // Data klaarzetten
    document.getElementById('display-artist').innerText = song.a;
    document.getElementById('display-title').innerText = song.t;
    document.getElementById('display-year').innerText = song.y;

    // Automatisch YouTube openen voor de actie
    openYouTube();
}

function openYouTube() {
    const song = SONGS[currentIndex];
    // We zoeken specifiek naar het nummer binnen de context van de playlist
    const query = encodeURIComponent(`${song.a} ${song.t}`);
    
    // Deep link naar YouTube zoekresultaten binnen de playlist
    const appUrl = `youtube://results?search_query=${query}+${PLAYLIST_ID}`;
    const webUrl = `https://www.youtube.com/results?search_query=${query}&list=${PLAYLIST_ID}`;

    const start = Date.now();
    window.location.href = appUrl;

    // Fallback naar web als de app niet binnen 500ms opent
    setTimeout(() => {
        if (Date.now() - start < 1000) {
            window.open(webUrl, '_blank');
        }
    }, 500);
}

function revealInfo() {
    document.getElementById('info-section').classList.remove('hidden');
    document.getElementById('reveal-btn').classList.add('hidden');
    document.getElementById('next-btn').classList.remove('hidden');
    document.getElementById('yt-btn').innerText = "OPNIEUW AFSPELEN";
}

// Service Worker Registratie (voor PWA)
if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('sw.js');
}
</script>

</body>
</html>
